<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Edit Book</title>
</head>
<body>

	<div class="container mt-5" th:fragment="content">
		<h2>Изменить книгу</h2>

		<form class="mt-3" name="editBook" th:action="@{/books/editBook}"
			method="post">
			<input type="text" name="id" th:value="${book.id}" hidden />
			<div class="form-group">
				<label for="name">Название книги</label> <input type="text"
					class="form-control" id="name" name="name" th:value="${book.name}">
			</div>

			<div class="form-group">
				<label for="цена">Цена книги</label> <input type="number" min="100"
					class="form-control" id="price" name="price"
					aria-describedby="priceHelp" th:value="${book.price}"> <small
					id="priceHelp" class="form-text text-muted">Не меньше 100
					(цена - в копейках)</small>
			</div>

			<div class="form-group">
				<label for="authors">Автор(ы) книги</label> <select
					class="form-control selectpicker" multiple data-live-search="true"
					id="authors" name="authors">
					<option th:each="author : ${authors}" th:value="${author.id}"
						th:text="${author.name}"
						th:selected="${#lists.contains(book.authors, author)}" />
				</select>
			</div>
			<a href="/authors/add" class="form-group btn btn-primary mb-4">Добавить
				нового автора</a>

			<div class="form-group">
				<label for="genres">Жанр(ы) книги</label> <select
					class="form-control selectpicker" multiple data-live-search="true"
					id="genres" name="genres">
					<option th:each="genre : ${genres}" th:value="${genre.id}"
						th:text="${genre.name}"
						th:selected="${#lists.contains(book.genres, genre)}" />
				</select>
			</div>
			<a href="/genres/add" class="form-group btn btn-primary mb-4">Добавить
				новый жанр</a>

			<div class="form-group">
				<label for="name">Краткое описание книги</label> <input type="text"
					class="form-control" id="description" name="description">
			</div>

			<br>
			<div>
				<button type="submit" class="form-group btn btn-primary">Сохранить
					изменения</button>
			</div>
			<script type="text/javascript">
				$('.selectpicker').selectpicker();
			</script>
		</form>

	</div>

</body>
</html>